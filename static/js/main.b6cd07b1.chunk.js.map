{"version":3,"sources":["routes/Flower.js","components/FlowerCatalog.js","routes/NotFound.js","routes/Private.js","components/FlowerBasket.js","components/Modal.js","redux/actions/basket.js","routes/Catalog.js","components/Footer.js","App.js","redux/actions/flowers.js","redux/reducers/flowers.js","redux/reducers/basket.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["Flower","FlowerShow","productId","name","price","onAddFlower","imgUrl","process","toString","slice","className","src","alt","onClick","obj","NotFound","dr","FlowerBasket","itemsCount","onRemove","onPlusItem","onMinusItem","customStyles","overlay","backgroundColor","content","position","inset","display","margin","zIndex","flexDirection","maxWidth","padding","background","border","ReactModal","setAppElement","Modal","useSelector","basket","items","totalPrice","React","useState","modalIsOpen","setIsOpen","dispatch","useDispatch","listFlowers","Object","keys","map","key","onRemoveItem","window","confirm","type","payload","removeItemBasket","plusItem","minusItem","closeModal","isOpen","closeTimeoutMS","onRequestClose","style","action","totalPriceItem","length","to","Footer","data","Sections","storage","flowers","useEffect","Base","flowerlist","path","element","Private","Catalog","initialState","isLoaded","state","getTotalPrice","arr","reduce","total","getTotalSum","values","sum","value","split","firstKey","val","_get","currentFlowerItems","newItems","totalCount","currentPrice","currentTotal","newObjItems","oldItems","rootReducer","combineReducers","store","createStore","ReactDOM","render","StrictMode","document","body"],"mappings":"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","file":"static/js/main.b6cd07b1.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\n\r\nfunction Flower(props, addFlowerToBasket) {\r\n\tlet params = useParams();\r\n    let location = useLocation();\r\n\treturn (\r\n        <section className=\"flowerPage\">\r\n            <div className=\"flowerPage__block\">\r\n                <div>{props.match.params.flowerId}</div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Flower;\r\n","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction FlowerShow({productId, name, price, onAddFlower}) {\r\n    const imgUrl = process.env.PUBLIC_URL + \"/img/itemCatalog/\" + (1000000 + productId).toString().slice(1) + \".jpg\"\r\n\r\n    const onAddFlowerBasket = () => {\r\n        const obj = {\r\n            productId,\r\n            name,\r\n            price,\r\n            imgUrl\r\n        };\r\n        onAddFlower({obj})\r\n    };\r\n\r\n    return (\r\n    <div className=\"items\">\r\n        {/* <Link to={\"/product/\" + productId} className=\"items__img\">\r\n            <img src={imgUrl} alt=\"\" />\r\n        </Link> */}\r\n        <div className=\"items__img\">\r\n            <img src={imgUrl} alt=\"\" />\r\n        </div>\r\n        <div className=\"items__data\">\r\n            <p>{name}</p>\r\n            <div className=\"price\">\r\n                <h3>{price}</h3>\r\n                <button className=\"basket__add\" onClick={onAddFlowerBasket}>\r\n                    <img src={process.env.PUBLIC_URL + \"/icons/basket_plus.svg\"} alt=\"\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )    \r\n}\r\n\r\nexport default FlowerShow;","import React from \"react\";\r\n\r\nfunction NotFound() {\r\n    return <h1>Ne nashel</h1>\r\n}\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\n\r\nfunction dr() {\r\n    return <section className=\"dr\">\r\n        <div className=\"pyro\">\r\n    <div className=\"before\"></div>\r\n    <div className=\"after\"></div>\r\n</div>\r\n<div className=\"main_text\">\r\n    <div className=\"main_text_wrap\">\r\n        <p>–° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è –ü–æ–ª–∏–Ω–∞, —Ç—ã —Å–∞–º–∞—è –ª—É—á—à–∞—è üíó</p>\r\n    </div>\r\n</div></section>\r\n}\r\n\r\nexport default dr;","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction FlowerBasket({productId, name, price, imgUrl, itemsCount, onRemove, onPlusItem, onMinusItem}) {\r\n    const handleRemoveClick = () => {\r\n        onRemove(productId, name)\r\n    }\r\n\r\n    const handlePlusItem = () => {\r\n        onPlusItem(productId)\r\n    }\r\n\r\n    const handleMinusItem = () => {\r\n        onMinusItem(productId)\r\n    }\r\n    \r\n    return (\r\n    <div className=\"basket__content_item\">\r\n        <div className=\"basket__content_item__image\">\r\n            <img src={imgUrl} alt=\"\" />\r\n        </div>\r\n        <div className=\"price\">\r\n            <p>{name}</p>\r\n            <h3>{price}</h3>\r\n        </div>\r\n        <div className=\"count\">\r\n            <button onClick={handlePlusItem} className=\"count--up\"></button>\r\n            <p>{itemsCount}</p>\r\n            <button onClick={handleMinusItem} className=\"count--down\"></button>\r\n        </div>\r\n        <button onClick={handleRemoveClick} className=\"trash_box\">\r\n            <img src={process.env.PUBLIC_URL +\"/icons/trash.svg\"} alt=\"\" />\r\n        </button>\r\n    </div>\r\n    )    \r\n}\r\n\r\nexport default FlowerBasket;","import React from 'react';\r\nimport ReactModal from 'react-modal';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {Link} from \"react-router-dom\";\r\nimport FlowerBasket from './FlowerBasket';\r\nimport { removeItemBasket, plusItem, minusItem } from '../redux/actions/basket';\r\n\r\nconst customStyles = {\r\n\toverlay: {\r\n\t\tbackgroundColor: '#181818db'\r\n\t},\r\n\tcontent: {\r\n\t\tposition: 'relative',\r\n\t\tinset: 'unset',\r\n\t\tdisplay: 'flex',\r\n\t\tmargin: 'auto',\r\n\t\tzIndex: 20,\r\n\t\tflexDirection: 'column',\r\n\t\tmaxWidth: '550px',\r\n\t\tpadding: '10px 10px',\r\n\t\tbackground: 'unset',\r\n\t\tborder: 'none',\r\n\t},\r\n  };\r\n  \r\n  ReactModal.setAppElement('body');\r\n  \r\nfunction Modal() {\r\n    const {items, totalPrice, itemsCount} = useSelector(({basket}) => basket)\r\n\tconst [modalIsOpen, setIsOpen] = React.useState(false);\r\n    const dispatch = useDispatch()\r\n\r\n    const listFlowers = Object.keys(items).map(key => {\r\n        return items[key].items[0];\r\n    })\r\n\r\n    const onRemoveItem = (productId, name) => {\r\n        if (window.confirm(\"–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å \" + name + \" ?\")) {\r\n            dispatch(removeItemBasket(productId));\r\n        }\r\n    }\r\n\r\n    const onPlusItem = (productId) => {\r\n        dispatch(plusItem(productId));\r\n    }\r\n\r\n    const onMinusItem = (productId) => {\r\n        dispatch(minusItem(productId));\r\n    }\r\n    \r\n\tfunction openModal() {\r\n\t  setIsOpen(true);\r\n\t}\r\n  \r\n\tfunction closeModal() {\r\n\t  setIsOpen(false);\r\n\t}\r\n  \r\n\treturn (\r\n\t\t<div className=\"basket\">\r\n\t\t\t<div onClick={openModal}>\r\n\t\t\t\t<img src={process.env.PUBLIC_URL +\"/icons/basket.svg\"} alt=\"\" />\r\n                <div className={\"basket--counter \" + (itemsCount === 0 ? \"basket--counter--empty\": \"\")}>{itemsCount}</div>\r\n\t\t\t</div>\r\n\t\t<ReactModal\r\n\t\t  isOpen={modalIsOpen}\r\n\t\t  closeTimeoutMS={200}\r\n\t\t  onRequestClose={closeModal}\r\n\t\t  style={customStyles}>\r\n\t\t  <div className=\"modal_basket\">\r\n                <div className=\"modal_basket__cross\" onClick={closeModal}>\r\n                    <img src=\"../assets/icons/cross_modal.svg\" alt=\"\" />\r\n                </div>\r\n                <div className={\"modal_basket__block \" + (itemsCount === 0 ? \"basket--empty\": \"\")}>\r\n                    <form action=\"\">\r\n                        <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>\r\n                        <p className=\"basket--empty_label\">–í –∫–æ—Ä–∑–∏–Ω–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ :(</p>\r\n                        <div className=\"basket__content \">\r\n                            {listFlowers.map(obj =>\r\n                                <FlowerBasket \r\n                                    key={obj.productId} {...obj} \r\n                                    totalPrice={items[obj.productId].totalPriceItem}\r\n                                    itemsCount={items[obj.productId].items.length}\r\n                                    onRemove={onRemoveItem}\r\n                                    onPlusItem={onPlusItem}\r\n                                    onMinusItem={onMinusItem}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        <div className=\"order__summ\">\r\n                            <p>–°—É–º–º–∞:<span>{totalPrice}</span></p>\r\n                        </div>\r\n                        <button className=\"button__catalog order__submit\">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>\r\n\t\t\t\t\t\t<div className=\"order--empty\">\r\n\t\t\t\t\t\t\t<Link className=\"button__catalog toCatalog\"  onClick={closeModal} to=\"/catalog\">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</Link>\r\n\t\t\t\t\t\t</div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\t\t</ReactModal>\r\n\t  </div>\r\n\t);\r\n}\r\nexport default Modal","export const addFlowerBasket = ({obj}) => ({\r\n    type: 'ADD_FLOWER_BASKET',\r\n    payload: obj\r\n})\r\nexport const removeItemBasket = (productId) => ({\r\n    type: 'REMOVE_ITEM_BASKET',\r\n    payload: productId\r\n})\r\nexport const plusItem = (productId) => ({\r\n    type: 'PLUS_ITEM_BUTTON',\r\n    payload: productId\r\n})\r\nexport const minusItem = (productId) => ({\r\n    type: 'MINUS_ITEM_BUTTON',\r\n    payload: productId\r\n})","import React from \"react\";\r\nimport FlowerItem from '../components/FlowerCatalog'\r\n\r\nfunction Footer({data, onAddFlower}) {\r\n    return (\r\n        <section className=\"catalog\">\r\n            <div className=\"catalog_block\">\r\n\t\t\t<h2>–ö–∞—Ç–∞–ª–æ–≥</h2>\r\n\t\t\t<div className=\"catalog__items\">\r\n\t\t\t\t{data.map((obj) =>(\r\n\t\t\t\t\t<FlowerItem key={obj.productId} {...obj} onAddFlower={onAddFlower}/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <section className=\"footer\">\r\n            <div className=\"footer_block\">\r\n                <div className=\"logo\">\r\n                    <Link to=\"/\">\r\n                        <img src={process.env.PUBLIC_URL +\"/icons/logo.svg\"} alt=\"\" />\r\n                    </Link>\r\n                    <p>¬© Copyright 2020 ¬´–ë–£–ö–ï–¢.–ú–ê–†–ö–ï–¢¬ª <br /> –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>\r\n                </div>\r\n                <div className=\"footer_contact\">\r\n                    <p>\r\n                        –°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –≤ <a className=\"studio\" href=\"https://3387studio.ru/\">33/87 STUDIO</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\nimport {HashRouter, Route, Routes} from 'react-router-dom'\nimport Flower from './routes/Flower';\nimport Home from './routes/Home';\nimport NotFound from './routes/NotFound';\nimport Private from './routes/Private';\nimport Nav from './components/Nav';\nimport Catalog from './routes/Catalog';\nimport Modal from './components/Modal';\nimport Footer from './components/Footer';\nimport Base from './db.json';\nimport {setFlowers} from './redux/actions/flowers'\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addFlowerBasket } from './redux/actions/basket'\n\nfunction Sections() {\n\tconst dispatch = useDispatch();\n\tconst storage = useSelector(({flowers}) => flowers.items);\n\n\tReact.useEffect(() => {\n\t\tconst {\n\t\t\tflowerlist : flowers\n\t\t} =  Base;\n\t\tdispatch(setFlowers(flowers));\n\t});\n\n\tconst addFlowerToBasket = obj => {\n\t\tdispatch(addFlowerBasket(obj));\n\t}\n\n\treturn(\n\t\t<HashRouter>\n\t\t\t{/* <Nav/> */}\n\t\t\t<Routes>\n\t\t\t\t{/* <Route path=\"/\" element={<Home favorite={storage.slice(0, 4)} onAddFlower={addFlowerToBasket}/>}/> */}\n\t\t\t\t<Route path=\"/\" element={<Private/>}/>\n\t\t\t\t<Route path=\"/catalog\" element={<Catalog data={storage}  onAddFlower={addFlowerToBasket}/>}/>\n\t\t\t\t{/* <Route path=\"/product\" element={<Flower />}> \n\t\t\t\t\t<Route path=\":flowerId\" element={<Flower onAddFlower={addFlowerToBasket}/>}/>\n\t\t\t\t</Route> */}\n\t\t\t\t<Route path=\"/basket\" element={<Modal />}/>\n\t\t\t\t<Route element={<NotFound/>}/>\n\t\t\t</Routes>\n\t\t\t{/* <Footer/> */}\n\t\t</HashRouter>\n\t)\n}\n\nexport default Sections;\n","export const setFlowers = (items) => ({\r\n    type: \"SET_FLOWERS\",\r\n    payload: items\r\n})","const initialState = {\r\n    items: [],\r\n    isLoaded: false\r\n};\r\n\r\nconst flowers = (state = initialState, action) => {\r\n    if (action.type === 'SET_FLOWERS') {\r\n        return {\r\n            ...state,\r\n            items: action.payload,\r\n            isLoaded: true\r\n        }\r\n    };\r\n\r\n    return state;\r\n}\r\n\r\nexport default flowers; ","const initialState = {\r\n    items: {},\r\n    totalPrice: 0,\r\n    itemsCount:0\r\n};\r\n\r\nconst getTotalPrice = arr => arr.reduce((total, obj) => obj.price + total, 0)\r\n\r\nconst _get = (obj, path) => {\r\n    const [firstKey, ...keys] = path.split('.');\r\n    return keys.reduce((val, key) => {\r\n      return val[key];\r\n    }, obj[firstKey]);\r\n  };\r\n  \r\nconst getTotalSum = (obj, path) => {\r\nreturn Object.values(obj).reduce((sum, obj) => {\r\n    const value = _get(obj, path);\r\n    return sum + value;\r\n}, 0);\r\n};\r\n\r\nconst basket = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_FLOWER_BASKET':{\r\n            const currentFlowerItems = !state.items[action.payload.productId] \r\n            ? [action.payload] \r\n            : [...state.items[action.payload.productId].items, action.payload];\r\n\r\n            const newItems = {\r\n                ...state.items,\r\n                [action.payload.productId]: {\r\n                    items: currentFlowerItems,\r\n                    totalPrice: getTotalPrice(currentFlowerItems)}\r\n\r\n            };\r\n\r\n            const totalCount = getTotalSum(newItems, 'items.length');\r\n            const totalPrice = getTotalSum(newItems, 'totalPrice');\r\n            return {\r\n                ...state,\r\n                items: newItems,\r\n                totalPrice,\r\n                itemsCount: totalCount\r\n            };\r\n        }\r\n        case 'REMOVE_ITEM_BASKET': {\r\n            const newItems = {\r\n                ...state.items\r\n            };\r\n            const currentPrice = newItems[action.payload].totalPrice\r\n            const currentTotal = newItems[action.payload].items.length\r\n            delete newItems[action.payload];\r\n            return {\r\n                ...state,\r\n                items: newItems,\r\n                totalPrice: state.totalPrice - currentPrice,\r\n                itemsCount: state.itemsCount - currentTotal\r\n            };\r\n        }\r\n        case 'PLUS_ITEM_BUTTON':{            \r\n            const newObjItems = [\r\n                ...state.items[action.payload].items,\r\n                state.items[action.payload].items[0],\r\n              ];\r\n              const newItems = {\r\n                ...state.items,\r\n                [action.payload]: {\r\n                  items: newObjItems,\r\n                  totalPrice: getTotalPrice(newObjItems),\r\n                },\r\n              };\r\n        \r\n              const totalCount = getTotalSum(newItems, 'items.length');\r\n              const totalPrice = getTotalSum(newItems, 'totalPrice');\r\n        \r\n              return {\r\n                ...state,\r\n                items: newItems,\r\n                itemsCount: totalCount,\r\n                totalPrice,\r\n              };\r\n        }\r\n        case 'MINUS_ITEM_BUTTON':{\r\n            const oldItems = state.items[action.payload].items;\r\n            const newObjItems =\r\n              oldItems.length > 1 ? state.items[action.payload].items.slice(1) : oldItems;\r\n            const newItems = {\r\n              ...state.items,\r\n              [action.payload]: {\r\n                items: newObjItems,\r\n                totalPrice: getTotalPrice(newObjItems),\r\n              },\r\n            };\r\n      \r\n            const totalCount = getTotalSum(newItems, 'items.length');\r\n            const totalPrice = getTotalSum(newItems, 'totalPrice');\r\n      \r\n            return {\r\n              ...state,\r\n              items: newItems,\r\n              itemsCount: totalCount,\r\n              totalPrice,\r\n            };\r\n        }; \r\n        default:\r\n            return state;\r\n    };\r\n}\r\n\r\nexport default basket; ","import {combineReducers} from 'redux';\r\nimport flowers from './flowers'\r\nimport basket from './basket';\r\n\r\nconst rootReducer = combineReducers({\r\n    flowers,\r\n    basket\r\n})\r\n\r\nexport default rootReducer","import {createStore} from 'redux';\r\nimport rootReducer from './reducers';\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Sections from './App';\nimport './main.css';\nimport './fonts.css';\nimport store from './redux/store'\nimport {Provider} from 'react-redux'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<Sections />\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.body\n);\n\n"],"sourceRoot":""}